// Generated by CoffeeScript 1.4.0
var httpProxy;

httpProxy = require('http-proxy');

exports.request = function(options) {
  var path, proxy;
  proxy = new httpProxy.RoutingProxy();
  path = '';
  return function(req, res) {
    if (req.proxyBuffer != null) {
      options.buffer = req.proxyBuffer;
    }
    return proxy.proxyRequest(req, res, options);
  };
};

exports.buffer = function() {
  return function(req, res, next) {
    req.proxyBuffer = httpProxy.buffer(req);
    return next();
  };
};
