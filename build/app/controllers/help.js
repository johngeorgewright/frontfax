// Generated by CoffeeScript 1.4.0
var fs, highlighter, marked, path;

marked = require('marked');

path = require('path');

fs = require('fs');

highlighter = require('highlight.js');

exports.readme = function(req, res) {
  var readme;
  marked.setOptions({
    gfm: true,
    tables: true,
    breaks: false,
    pendantic: false,
    sanitize: true,
    highlight: function(code, lang) {
      return highlighter.highlightAuto(code).value;
    }
  });
  readme = path.join(__dirname, '..', '..', 'README.md');
  return fs.readFile(readme, function(err, data) {
    var html;
    if (err) {
      return res.send(500, err);
    }
    html = marked(data.toString());
    return res.render('help/readme', {
      html: html
    });
  });
};
