// Generated by CoffeeScript 1.4.0
var Base, assert, fs, mkdirp, path,
  __hasProp = {}.hasOwnProperty;

fs = require('fs');

path = require('path');

assert = require('assert');

mkdirp = require('mkdirp');

module.exports = Base = (function() {

  function Base(options) {
    var key, value;
    for (key in options) {
      if (!__hasProp.call(options, key)) continue;
      value = options[key];
      this[key] = value;
    }
  }

  Base.prototype.filename = function() {
    return "" + this.constructor.name + ".js";
  };

  Base.prototype.content = function() {
    return '';
  };

  Base.prototype.render = function(callback) {
    var base, dirname, filename, _ref,
      _this = this;
    base = (_ref = this.base) != null ? _ref : '.';
    filename = "" + base + "/" + (this.filename());
    dirname = path.dirname(filename);
    return mkdirp(dirname, function(err) {
      assert.ifError(err);
      return fs.writeFile(filename, _this.content(), function(err) {
        assert.ifError(err);
        console.log(" + " + filename);
        if (callback) {
          return callback();
        }
      });
    });
  };

  return Base;

})();
